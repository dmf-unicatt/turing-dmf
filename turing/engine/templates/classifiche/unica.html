{% extends "classifiche/class_template.html" %}

{% block title %}Schermata unica {{object.nome}}{% endblock %}

{% block class_type %}unica{% endblock %}

{% block main %}
<h3>Gara: <a href="{% url 'engine:gara-detail' object.pk %}">{{object.nome}}</a> - visualizzazione unica</h3>
<div class="container-fluid">
  <div class="row no-gutters justify-content-end">
      <h3 id="orologio">##:##:##</h3>
  </div>
    <div class="table-responsive">
    <table class="table table-striped table-bordered table-sm maybe-fixed text-center">
        <thead class="thead-light"><tr>
            <th scope="col" style="width:2.5%">Pos.</th>
            <th scope="col" style="display: none; width:2.5%" id="freccia-head"></th>
            <th scope="col" style="width:8%">Squadra</th>
            <th scope="col" style="display: none;">Num. squadra</th>
            <th scope="col" style="width:3%">Punt.</th>
            {% for s in soluzioni %}
            <th scope="col" style="white-space:pre" id="pr-{{s.problema}}">#{{s.problema|stringformat:"02d"}}</th>
            {% endfor %}
            <th scope="col" style="white-space:pre" id="pr-bonus">&#xb1;</th>
        </tr></thead>
        <tbody>
            {% for sq in object.get_squadre_order %}
            {% if sq.num >= start_pos and sq.num <= end_pos %}
            <tr id="riga-{{sq.num}}">
            {% else %}
            <tr id="riga-{{sq.num}}" style="display: none;" >
            {% endif %}
              <th scope="row" style="white-space:pre" id="pos-{{sq.num}}">Â°</th>
              <th scope="row" style="display: none;" id="freccia-{{sq.num}}"></th>
              <th scope="row" class="text-truncate squadra" style="white-space:pre" id="nome-{{sq.num}}"></th>
              <th scope="row" style="display: none;" id="num-{{sq.num}}">{{sq.num}}</th>
              <th scope="row" style="white-space:pre" id="punt-{{sq.num}}"></th>
                {% for s in soluzioni %}
                  <td id="cell-{{sq.num}}-{{s.problema}}"></td>
                {% endfor %}
                <td id="cell-{{sq.num}}-bonus" class="bonus"></td>
            </tr>
            {% endfor %}
        </tbody>
        <thead class="thead-light"><tr>
            <th scope="row"></th>
            <th scope="row" style="display: none;" id="freccia-foot"></th>
            <th scope="row"></th>
            <th scope="row" style="display: none;"></th>
            <th scope="row"></th>
            {% for s in soluzioni %}
            <td class="progress-bar-zero unica_giuste" id="giuste-{{s.problema}}"></td>
            {% endfor %}
            <th scope="row"></th>
        </tr></thead>
    </table>
    </div>

    {% include 'classifiche/replay_control.html' %}
</div>
{% endblock %}
